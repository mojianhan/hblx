define(["exports","weui","./ajax"],function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=n(t),o=n(r);function n(e){return e&&e.__esModule?e:{default:e}}var a,i,s=(a=regeneratorRuntime.mark(function e(t){var r,n,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.default.loading("加载中"),e.next=3,(0,o.default)(t);case 3:return n=e.sent,a=JSON.parse(n.responseText),r.hide(function(){var e={className:"crm-weui-component",isAndroid:!1};switch(n.status){case 403:e.buttons=[{label:"重新登录",type:"default",onClick:function(){location.href="./login.html"}}],u.default.alert(a.data.errMsg,e);break;case 404:u.default.alert("接口去火星旅游了");break;case 500:u.default.alert("后端哥哥代码出错了");break;case 504:u.default.alert("OMG！服务器被偷了")}}),e.abrupt("return",a);case 7:case"end":return e.stop()}},e,this)}),i=function(){var i=a.apply(this,arguments);return new Promise(function(u,o){return function t(e,r){try{var n=i[e](r),a=n.value}catch(e){return void o(e)}if(!n.done)return Promise.resolve(a).then(function(e){t("next",e)},function(e){t("throw",e)});u(a)}("next")})},function(e){return i.apply(this,arguments)});e.default=s});